-- Migration: Clean up test data and load real production bins
-- Date: 2025-12-15
-- Description: Remove all non-Dallas test bins and insert 44 real Bay Area bins

-- Step 1: Delete all bins except Dallas ones
DELETE FROM bins WHERE city != 'Dallas';

-- Step 2: Insert 44 real bins from production data
-- Note: Some bins have null lat/lng and won't appear on map until coordinates are added

INSERT INTO bins (id, bin_number, current_street, city, zip, last_moved, last_checked, status, fill_percentage, checked, move_requested, latitude, longitude, created_at, updated_at) VALUES
('c96c3c41-fdbd-4777-86eb-326edba84309', 1, '143 E El Camino Real', 'Mountain View', '94040', NULL, 1723403460, 'Missing', 40, 0, 0, 37.37858, -122.071589, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('14a67be5-9b31-4acf-bf48-4aacb39d3130', 2, '1101 W El Camino Real', 'Sunnyvale', '94087', NULL, 1729984568, 'Active', 25, 0, 0, 37.37386, -122.05294, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('8f4f7f05-c61f-4e20-9bc4-6db3f4defd59', 3, '615 Coleman Ave', 'San Jose', '95110', NULL, 1732068105, 'Active', 100, 0, 0, 37.340408, -121.908161, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('2c7d4b00-c070-4515-b91d-da85ec6b53b7', 4, '2400 Charleston Rd', 'Mountain View', '94043', NULL, 1732414957, 'Active', 40, 0, 0, 37.42182, -122.09657, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('826043b0-07a1-455c-ad5e-f7f8b6198262', 5, '1060 E El Camino Real', 'Sunnyvale', '94087', 1729983361, 1732420652, 'Active', 30, 0, 0, NULL, NULL, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('8e35d3f5-ff41-454b-84e8-224677e740c9', 6, '2161 Monterey Rd', 'San Jose', '95125', NULL, 1723475220, 'Missing', 90, 0, 0, 37.30441, -121.86563, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('d26930d5-394f-4d2b-9b33-759881f791b7', 7, '5055 Almaden Expy', 'San Jose', '95118', NULL, 1732424057, 'Active', 10, 0, 0, 37.25727, -121.8765, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('ebf3cc8a-0c2c-409b-92fb-96fda4b4c2e3', 8, '1933 W El Camino Real', 'Mountain View', '94040', NULL, 1732418838, 'Active', 40, 0, 0, 37.393042, -122.097551, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('153afdd6-fb6c-4ce1-80cc-8ba59302d4db', 9, '5524 Monterey Rd', 'San Jose', '95138', NULL, 1730042536, 'Missing', 100, 0, 0, 37.25637, -121.79907, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('48b39523-183e-49ed-9df5-c0d7352cc29f', 10, '3635 El Camino Real', 'Santa Clara', '95051', NULL, 1732421011, 'Active', 5, 0, 0, 37.352291, -121.988535, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('48f7c1c0-9fab-4b74-bf03-fc8a86156afc', 11, '199 E Middlefield Rd Ste 200', 'Mountain View', '94043', NULL, 1732414062, 'Active', 30, 0, 0, 37.397222, -122.062096, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('0f0ef655-77e2-4738-8976-d04841b41c8c', 12, '1660 Winchester Blvd', 'Campbell', '95008', NULL, NULL, 'Missing', 0, 0, 0, 37.293058, -121.949259, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('f1649781-bcde-4412-a313-a49801de73ed', 13, '1305 S Winchester Blvd', 'San Jose', '95117', NULL, NULL, 'Missing', 0, 0, 0, 37.300899, -121.951779, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('ad92c60c-4b10-4c51-ae47-155b0def8baa', 14, '4644 Meridian Ave', 'San Jose', '95124', NULL, 1732423438, 'Active', 100, 0, 0, 37.256866, -121.897573, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('46f118f7-ac2f-436f-a658-f17ccb0b775c', 15, '1130 Branham Ln', 'San Jose', '95118', NULL, 1722433440, 'Missing', 15, 0, 0, 37.26202, -121.878139, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('2548deaf-8e80-49f6-a2ac-92aaffb45032', 16, '1721 E Bayshore Rd', 'Palo Alto', '94303', NULL, 1732409894, 'Active', 100, 0, 0, 37.460225, -122.137732, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('4c19a8b2-2ffa-47e4-9965-3cc0e4583cdb', 17, '2720 El Camino Real', 'Santa Clara', '95051', NULL, 1732421559, 'Active', 20, 0, 0, 37.352196, -121.975935, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('e30d6984-1ac5-4cce-bc8d-4840ab849197', 18, '1691 The Alameda San Jose, CA  95126 United States', 'San Jose', '95126', 1729448553, 1728108195, 'Missing', 30, 0, 0, 37.337079, -121.919615, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('35ee2834-8b1c-406f-a720-974ecd833dc1', 19, '1041 El Monte Ave', 'Mountain View', '94040', NULL, 1732418844, 'Active', 100, 0, 0, 37.390051, -122.094742, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('fa541645-13fa-479c-93d2-5b8d7cc958ec', 20, '2510 W El Camino Real Suite 2', 'Mountain View', '94040', NULL, 1732416763, 'Active', 25, 0, 0, 37.40003, -122.110255, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('bfa30cb2-14ee-4aa0-871c-7fa78fddbe6a', 21, 'Mountain View Shopping Center 121 E El Camino Real Mountain View, CA  94040 United States', 'Mountain View', '94040', 1729120112, 1732052767, 'Missing', 70, 0, 0, NULL, NULL, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('1959f69c-0d7e-4f09-a184-17fd47aa3b63', 22, '1757 W San Carlos St San Jose, CA  95128 United States', 'San Jose', '95128', 1728114850, 1732422663, 'Active', 40, 0, 0, NULL, NULL, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('baf638d9-a0b9-40bc-a232-4b17ccc6e828', 23, '1425 Lafayette St Santa Clara, CA  95050 United States', 'Santa Clara', '95050', 1726533799, 1732059576, 'Active', 40, 0, 0, 37.35466, -121.94572, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('e3f52b60-8164-4adb-9c1c-f908719d3d3a', 24, '3904 Middlefield Rd', 'Palo Alto', '94303', NULL, 1728508791, 'Missing', 20, 0, 0, 37.419241, -122.110524, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('fcbd018f-bfd2-4615-a5fa-06fa96fc0fbf', 25, '2811 Middlefield Rd', 'Palo Alto', '94306', NULL, 1732411205, 'Active', 80, 0, 0, 37.43288, -122.127406, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('c207b5fe-880b-414b-b1fe-02283b5aee36', 26, '887 E El Camino Real Sunnyvale, CA  94087 United States', 'Sunnyvale', '94087', 1725868335, 1732420107, 'Active', 25, 0, 0, 37.354035, -122.014985, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('c552735a-354d-45fe-8637-484f2daa1341', 27, '525 El Camino Real', 'Menlo Park', '94025', NULL, NULL, 'Active', 0, 0, 0, 37.452067, -122.178904, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('6da99eed-a351-4396-80a2-447b1d703eb5', 28, '200 Woodside Plaza', 'Redwood City', '94061', NULL, 1723388760, 'Missing', 100, 0, 0, 37.456535, -122.229593, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('75401257-1c80-4d37-ba9e-6ee484b41487', 29, '5269 Prospect Rd San Jose, CA  95129 United States', 'San Jose', '95129', 1726528434, 1726503609, 'Missing', 0, 0, 1, 37.292949, -121.994242, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('f4906f01-453b-4419-ba4f-6857c6a5ae49', 30, '2495 Lafayette St', 'Santa Clara', '95050', NULL, 1732063444, 'Active', 30, 0, 0, 37.36573, -121.94979, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('74da2fad-2e1e-44ce-896d-2437edb83b1d', 31, '590 Showers Dr', 'Mountain View', '94040', NULL, 1732416751, 'Active', 25, 0, 0, 37.402102, -122.110739, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('1a989b38-f538-4bd9-9444-dcdef185f8c6', 32, '20 Woodside Plaza', 'Redwood City', '94061', NULL, 1723995720, 'Missing', 100, 0, 0, 37.457956, -122.22879, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('efac394f-307a-4b1b-a0ab-21cd8a54d0ae', 33, '1349 Coleman Ave Santa Clara, CA  95050 United States', 'Santa Clara', '95050', 1729456542, 1730656400, 'Active', 20, 0, 0, 37.356773, -121.935764, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('b14813e2-48a1-4075-87ba-654fb362ada3', 34, '2485 El Camino Real', 'Redwood City', '94063', NULL, 1722351600, 'Missing', 50, 0, 0, 37.475639, -122.217094, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('5438c040-1b57-4087-8651-5e1a85fec954', 35, '1920 Camden Ave San Jose, CA  95124 United States', 'San Jose', '95124', 1730768552, 1732422258, 'Active', 2, 0, 0, NULL, NULL, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('3f9d27a3-bf21-4c7a-987a-5048969afaa4', 36, '2407 El Camino Real Redwood City, CA  94063 United States', 'Redwood City', '94063', 1725860739, 1732410071, 'Active', 100, 0, 0, 37.485323, -122.229117, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('6e7c94b9-e894-4a4c-b20b-d72b19226c5e', 37, '1884 S Norfolk St', 'San Mateo', '94403', NULL, 1732406522, 'Active', 100, 0, 0, 37.554401, -122.29191, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('0a3d7c94-17fd-4951-b11c-698630255f4d', 38, '516 El Camino Real', 'Belmont', '94002', NULL, 1732408347, 'Active', 80, 0, 0, 37.52528, -122.282498, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('da4d6093-eff1-41b4-bd2c-95e97a653122', 39, '1119 Industrial Rd Ste F', 'San Carlos', '94070', NULL, 1727367714, 'Missing', 30, 0, 1, 37.50393, -122.246335, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('5d6c53f6-a03d-4ac2-846c-1fe7382f5e12', 40, '2220 Bridgepointe Pkwy', 'San Mateo', '94404', NULL, 1732407068, 'Active', 100, 0, 0, 37.558595, -122.283297, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('2b92ba74-cd05-426f-8c2c-56094fd60512', 41, '640 Concar Dr', 'San Mateo', '94402', NULL, 1732405547, 'Active', 40, 0, 0, 37.553598, -122.304754, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('64ff1a7c-e994-4544-8188-d3e3ac87aa92', 42, '3904 Middlefield Rd', 'Palo Alto', '94303', 1728582476, 1732415730, 'Active', 40, 0, 0, NULL, NULL, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('35b5527b-25f8-4373-8255-fe1ab0eac396', 43, '2021 The Alameda', 'San Jose', '95126', NULL, 1729183170, 'Active', 5, 0, 0, 37.342805, -121.927995, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT),
('f7aac47e-7479-458d-a717-b792963f9a4f', 44, '4960 Almaden Expy San Jose, CA  95118 United States', 'San Jose', '95118', 1727318409, 1731213193, 'Active', 50, 0, 0, 37.2605, -121.874759, EXTRACT(EPOCH FROM NOW())::BIGINT, EXTRACT(EPOCH FROM NOW())::BIGINT);

-- Display summary of what was done
SELECT
    'Migration completed successfully' AS message,
    COUNT(*) AS total_bins_loaded,
    COUNT(CASE WHEN latitude IS NULL OR longitude IS NULL THEN 1 END) AS bins_without_coords,
    COUNT(CASE WHEN status = 'Active' THEN 1 END) AS active_bins,
    COUNT(CASE WHEN status = 'Missing' THEN 1 END) AS missing_bins
FROM bins
WHERE city != 'Dallas';
